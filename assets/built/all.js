"use strict";$(function(){var e,s=(e=$("*"),$(e).find(":not(iframe,script)").addBack().contents().filter(function(){return 3==this.nodeType}));for(var d=[],t=0;t<s.length;t++){for(var i,n=s[t],r=[],o=/\w+/g;null!=(i=o.exec(n.nodeValue));){var a=i[0],l=i.index;r.push({length:a.length,position:l})}d[t]=r}function c(e){return e.length<3?e:e[0]+function(e){if(e.length<2)return e;var t,i;for(;!(t<i);)t=h(0,e.length-1),i=h(0,e.length-1);return e.slice(0,t)+e[i]+e.slice(t+1,i)+e[t]+e.slice(i+1)}(e.slice(1,-1))+e[e.length-1]}function h(e,t){return Math.floor(Math.random()*(t-e+1)+e)}setInterval(function(){for(var e=0;e<s.length;e++)for(var t=s[e],i=0;i<d[e].length;i++)if(!(.1<Math.random())){var n=d[e][i],r=t.nodeValue.slice(n.position,n.position+n.length),o=t.nodeValue.slice(0,n.position),a=t.nodeValue.slice(n.position+n.length);t.nodeValue=o+c(r)+a}},50)}),function(t,i){var n=i.querySelector("link[rel=next]");if(n){var r=i.querySelector(".post-feed");if(r){var o=300,a=!1,s=!1,d=t.scrollY,l=t.innerHeight,c=i.documentElement.scrollHeight;t.addEventListener("scroll",u,{passive:!0}),t.addEventListener("resize",v),f()}}function h(){if(404===this.status)return t.removeEventListener("scroll",u),void t.removeEventListener("resize",v);this.response.querySelectorAll(".post-card").forEach(function(e){r.appendChild(i.importNode(e,!0))});var e=this.response.querySelector("link[rel=next]");e?n.href=e.href:(t.removeEventListener("scroll",u),t.removeEventListener("resize",v)),c=i.documentElement.scrollHeight,s=a=!1}function e(){if(!s)if(d+l<=c-o)a=!1;else{s=!0;var e=new t.XMLHttpRequest;e.responseType="document",e.addEventListener("load",h),e.open("GET",n.href),e.send(null)}}function f(){a||t.requestAnimationFrame(e),a=!0}function u(){d=t.scrollY,f()}function v(){l=t.innerHeight,c=i.documentElement.scrollHeight,f()}}(window,document),$(function(t){var i=1,n=window.location.pathname,r=t(document),o=t(".post-feed"),a=100,s=!1,d=!1,l=window.scrollY,c=window.innerHeight,h=r.height();function f(){l=window.scrollY,e()}function u(){c=window.innerHeight,h=r.height(),e()}function e(){s||requestAnimationFrame(v),s=!0}function v(){if(!d)if(l+c<=h-a)s=!1;else if(i!==maxPages){d=!0;var e=n+"page"+ ++i+"/";t.get(e,function(e){o.append(t(e).find(".post").hide().fadeIn(100))}).fail(function(e){404===e.status&&(window.removeEventListener("scroll",f,{passive:!0}),window.removeEventListener("resize",u))}).always(function(){h=r.height(),s=d=!1})}}n=n.replace(/#(.*)$/g,"").replace("///g","/"),window.addEventListener("scroll",f,{passive:!0}),window.addEventListener("resize",u),v()}),function(r){r.fn.fitVids=function(e){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(n.childNodes[1])}return e&&r.extend(i,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&e.push(i.customSelector);var n=".fitvidsignore";i.ignore&&(n=n+", "+i.ignore);var t=r(this).find(e.join(","));(t=(t=t.not("object object")).not(n)).each(function(){var e=r(this);if(!(0<e.parents(n).length||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var t=("object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height())/(isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10));if(!e.attr("name")){var i="fitvid"+r.fn.fitVids._count;e.attr("name",i),r.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-container"><div class="fluid-width-video-wrapper"></div></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*t+"%"),e.removeAttr("height").removeAttr("width")}})})},r.fn.fitVids._count=0}(window.jQuery||window.Zepto);